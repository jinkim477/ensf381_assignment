<!-- products.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ENSF381 Assignment">
    <meta name="author" content="Jin Kim, Sebastian Nieto">

    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="image_assets/favicon.ico" type="image/x-icon">

    <title>SJR34 | Products</title>
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <div class="logo">
            <img src="image_assets/cat_logo.jpeg" alt="Company Logo">
        </div>
        <div class="company-name">
            SJR34
        </div>
    </header>

    <!-- Navigation Section -->
    <nav>
        <a href="index.html" class="nav-link">Home</a>
        <a href="products.html" class="nav-link">Products</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="login.html" class="nav-link">Login</a> 
    </nav>
    
    <main>
        <section class="product-list">

            <!-- Display Product 1 and Product 2 in the same line -->
            <div class="product-container">
                <div class="product">
                    <img src="image_assets/shannonsharpe_tshirt.png" alt="Shannon Sharpe T-Shirt" width="350">
                    <h2>"i be poppin bottles" - T Shirt</h2>
                    <p class="price">$19.99</p>
                    <button>Add to Cart</button>
                </div>    
                <div class="product">
                    <img src="image_assets/joshgiddey_tshirt.png" alt="Josh Giddey T-Shirt" width="350">
                    <h2>"legal" - T Shirt</h2>
                    <p class="price">$16.00</p>
                    <button>Add to Cart</button>
                </div>
            </div>

            <!-- Display Product 3 and Product 4 in the same line -->
            <div class="product-container">
                <div class="product">
                    <img src="image_assets/twoguys_tshirt.png" alt="Two Men T-Shirt" width="350">
                    <h2>"brotherhood" - T Shirt</h2>
                    <p class="price">$68.99</p>
                    <button>Add to Cart</button>
                </div>
                <div class="product">
                    <img src="image_assets/gradey_tshirt.png" alt="Gradey Dick T-Shirt" width="350">
                    <h2>"gradey the great" - T Shirt</h2>
                    <p class="price">$19.99</p>
                    <button>Add to Cart</button>
                </div>
            </div>
            <!-- Display Product 5 and Product 6 in the same line -->
            <div class="product-container">
                <div class="product">
                    <img src="image_assets/ogmudbone_tshirt.png" alt="OGMudbone T-Shirt" width="350">
                    <h2>"OGMUDBONE" - T Shirt</h2>
                    <p class="price">$24.99</p>
                    <button>Add to Cart</button>
                </div>
                <div class="product">
                    <img src="image_assets/fiveplusone_tshirt.png" alt="Five One T-Shirt" width="350">
                    <h2>"couchscene" - T Shirt</h2>
                    <p class="price">$68.99</p> 
                    <button>Add to Cart</button>
                </div>
            </div>
            <!-- Display Product 7 and Product 8 in the same line -->
            <div class="product-container">
                <div class="product">
                    <img src="image_assets/hat.jpg" alt="SJR34 Hat" width="350">
                    <h2>"SJR34" - Hat</h2>
                    <p class="price">$24.99</p>
                    <button>Add to Cart</button>
                </div>
                <div class="product">
                    <img src="image_assets/beanie.jpg" alt="SJR34 Beanie" width="350">
                    <h2>"SJR34" - Beanie</h2>
                    <p class="price">$24.99</p>
                    <button>Add to Cart</button>
                </div>
            </div>

            <!-- Dynamic Cart Display Section (Product name, Unit Price, Quantity, Remove Button) -->
            <div class="cart">
                <h2>Shopping Cart</h2>
                <div class="cart-display">
                </div>
            </div>
        </section>
    </main>
    
    <footer class="footer">
        <p>&copy; 2024 SJR34. All rights reserved.</p>
    </footer>
    <script>
        // Add product to cart section (Add to Cart button functionality)
        // If the product is already in the cart, increment the quantity of the product in the cart    
        // Remove product from cart section (Remove button functionality)
        // If the product is in the cart, increment the quantity of the product in the cart
        // Calculate the total price of the products in the cart
        // Display the total price of the products in the cart
        // Display the product name, unit price, quantity, and remove button in the cart, not the console.
        // example:
        // Product 1 || $29.99 || 1 || Remove(button)
        
        const cart = [];
        const products = document.getElementsByClassName("product");
        const cartDisplay = document.querySelector(".cart-display");

        for (let i = 0; i < products.length; i++) {
            products[i].getElementsByTagName("button")[0].addEventListener("click", addToCart);
        }

        const inCartList = document.getElementsByClassName("product-display");
        for (let i = 0; i < inCartList.length; i++) {
            inCartList[i].getElementsByTagName("button")[0].addEventListener("click", removeFromCart);
        }

        function updateCart() {

            cartDisplay.innerHTML = "";
            for (let i = 0; i < cart.length; i++) {
                const product = cart[i];
                const productDisplay = document.createElement("div");
                productDisplay.className = "product-display";




                var paraName = document.createElement('p');
                var productName = document.createTextNode(product.name);
                paraName.className="product-elements";
                paraName.appendChild(productName);

                var paraProductPrice = document.createElement('p');
                var productPrice = document.createTextNode("$" + product.price);
                paraProductPrice.className="product-elements";
                paraProductPrice.appendChild(productPrice);

                var paraProductQuantity = document.createElement('p');
                var productQuantity = document.createTextNode(product.quantity);
                paraProductQuantity.className="product-elements";
                paraProductQuantity.appendChild(productQuantity);

                var paraRemoveButton = document.createElement('p');
                var removeButton = document.createElement("button");
                paraRemoveButton.className="product-elements";
                removeButton.innerHTML = "Remove";
                removeButton.onclick = removeFromCart;
                paraRemoveButton.appendChild(removeButton);

                productDisplay.appendChild(paraName);
                var formatDash = document.createElement('p');
                var dash = document.createTextNode(" - ");
                formatDash.appendChild(dash);
                productDisplay.appendChild(formatDash);

                productDisplay.appendChild(paraProductPrice);
                var formatDash = document.createElement('p');
                var dash = document.createTextNode(" - ");
                formatDash.appendChild(dash);
                productDisplay.appendChild(formatDash);

                productDisplay.appendChild(paraProductQuantity);
                productDisplay.appendChild(paraRemoveButton);
                // productDisplay.innerHTML = `${product.name} - $${product.price} - ${product.quantity} - <button onclick="removeFromCart()">Remove</button>`;
                cartDisplay.appendChild(productDisplay);
            }
        }

        function addToCart() {
            var product = this.parentElement;
            var productName = product.getElementsByTagName("h2")[0].innerText;
            var productPrice = product.getElementsByTagName("p")[0].innerText;
            var productPriceNumber = parseFloat(productPrice.substring(1));
            var productIndex = cart.findIndex((item) => item.name === productName);
            if (productIndex === -1) {
                cart.push({name: productName, price: productPriceNumber, quantity: 1});
            } else {
                cart[productIndex].quantity++;
            }
            alert(productName + " added to cart!");
            updateCart();
        }

        function removeFromCart(){
            var product = this.parentElement.parentElement;
            var productName = product.querySelector('p').innerText;
            
            var productIndex = cart.findIndex((item) => item.name === productName);
            if (cart[productIndex].quantity > 1) {
                cart[productIndex].quantity--;
            } else {
                cart.splice(productIndex, 1);
            }
            updateCart();
        }
        
    </script>
</body>
</html>
